var u=(t,e)=>{t.parentNode.replaceChild(e,t)};var m,l=g(),y=t=>{let e=document.createElement("a");e.setAttribute("href",t),m(e)},b=t=>{t.preventDefault(),m(t.currentTarget)},w=t=>e=>{let c=n=>{e.removeEventListener("click",c),h({options:t,event:n})};e.addEventListener("click",c),e.click()};function M(t){let e=l.set(t,document.location.pathname);return m=w(t),v(t),f({match:e,path:d(document.location),isPopState:!1}),u(document.getElementById(e.id||t.id||"app"),e.view(e.params)),{view:e.view||t.view}}function v(t){document.addEventListener("popstate",e=>h({options:t,event:e}))}function h({options:t={},event:e}){let c=e.currentTarget,n=l.set(t,c.attributes.href.value);e.preventDefault(),f({match:n,path:d(c)||d(document.location),isPopState:e.type==="popstate"}),u(document.getElementById(n.id||t.id||"app"),n.view(n.params))}function d(t){return t.pathname+(t.search||t.hash)}function f({match:t,path:e,isPopState:c}){let n=t.title(t.params)||document.title;c||window.history.pushState({},n,e),document.title=n}function g(){let t=new Map,e=()=>{};return{set(c,n){if(!t.has(n)){let o="",s,a=Object.keys(c),p=a.length;for(let r=0;r<p&&(o=a[r],s=E(n,a[r]),!s);r=r+1);let i=c[o];t.set(n,{...i,params:s,title:i.title||e,view:i.view||e})}return t.get(n)}}}function E(t,e){let c,n=/:([^/]+)/,o=[];for(;c=e.match(n);)e=e.replace(n,"([^?/]+)"),o.push(c[1]);let s=new RegExp(`^${e}(\\?(.*)|$)`,"i"),a=t.match(s);if(a)return o.reduce((p,i,r)=>(p[i]=a[r+1],p),{})}export{y as redirect,M as router,b as to};
