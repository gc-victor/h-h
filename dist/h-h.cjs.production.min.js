"use strict";function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){if(void 0!==t)return t;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object")}();function n(){return function(e){return t.queueMicrotask(e)}}"function"!=typeof t.queueMicrotask&&(t.queueMicrotask=function(e){if(!t.Promise)return"undefined"!=typeof process?process.nextTick(e):setTimeout(e);Promise.resolve().then(e).catch((function(e){return setTimeout((function(){throw e}))}))});var r=n(),o=function(e){},i=IncrementalDOM,u=i.attributes,a=i.notifications,c=i.patchOuter,f=i.renderToString,s=i.skip,l=i.skipNode,p=(void 0===u?{}:u)||{},d=i.attr,v=i.elementClose,h=i.elementOpenEnd,m=i.elementOpenStart,g=void 0===a?{nodesCreated:o,nodesDeleted:o}:a,w=void 0===f?o:f,y=i.text,k=void 0===s?o:s,b=void 0===l?o:l,x=function(e,t){return r((function(){return c(e,t)}))};p.value=function(e,t,n){return e.value=null==n?"":n},p.checked=function(e,t,n){return e.checked=!!n},g.nodesDeleted=function(e){return e.forEach((function(e){return e&&e._elementDetached&&r(e._elementDetached)}))},g.nodesCreated=function(e){return e.forEach((function(e){return e&&e._elementAttached&&r(e._elementAttached)}))};var D=new WeakMap,_=new Map,E=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;function I(e){return/^on/.test(e)}function O(e){return/^skip$/.test(e)}function A(e){return/^ref$/.test(e)}function S(e){for(var t=e.attributes,n=e.names,r=e.length,o=0;o<r;o++){var i=n[o];if(i&&!I(i)&&!O(i)&&!A(i)){var u="className"===i?"class":"",a="htmlFor"===i?"for":"",c=E.test(i)&&i.replace(/[A-Z0-9]/,"-$&").toLowerCase();d(a||u||c||i,t[i])}}}function C(t){for(var n=t.attributes,r=t.names,o=t.length,i=t.element,u=0;u<o;u++){var a=r[u];if(a&&I(a)){var c,f=a.toLowerCase().substring(2),s=D.get(i)||{};_.has(f)||document.body.addEventListener(f,M,!1),_.set(f,1),D.set(i,e(e({},s),{},((c={})[f]=n[a],c)))}}}function M(e){var t=D.get(e.target)||{},n=e.type;if(t[n])return t[n](e)}function P(e,t){if(e.length>2)for(var n=2;n<e.length;n++)t(e[n])}function j(e){var t="string"==typeof e?y(e):"";return"function"==typeof e?e():t}var L,N="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||window,T=F();function q(e){var t=N.location.pathname,n=T.set(e,t);return L=function(e){return function(t){t.addEventListener("click",(function n(r){t.removeEventListener("click",n),$({options:e,event:r})})),t.click()}}(e),function(e){N.addEventListener("popstate",(function(t){return $({options:e,event:t})}))}(e),U({match:n,path:t,isPopState:!1}),{view:n.view||e.view}}function $(e){var t=e.options,n=e.event,r=n.currentTarget.pathname||N.location.pathname,o=T.set(t,r);n.preventDefault(),U({match:o,path:r,isPopState:"popstate"===n.type}),x(document.getElementById(t.routerId||t.id||"app"),o.view())}function U(e){var t,n=e.path,r=e.isPopState,o=(t=e.match).title(t.params)||N.document.title;r||N.history.pushState({},o,n),N.document.title=o}function B(e,t){for(var n,r=/:([^/]+)/,o=[];n=t.match(r);)t=t.replace(r,"([^?/]+)"),o.push(n[1]);var i=new RegExp("^"+t+"(\\?(.*)|$)","i"),u=e.match(i);if(u)return o.reduce((function(e,t,n){return e[t]=u[n+1],e}),{})}function F(){var e=new Map,t=function(){};return{set:function(n,r){if(!e.has(r)){for(var o,i="",u=n.router,a=Object.keys(u),c=a.length,f=0;f<c&&(i=a[f],!(o=B(r,a[f])));f+=1);var s=u[i];e.set(r,{params:o,title:s.title||t,view:s.view||t})}return e.get(r)}}}var J=n(),R=1,W=new Map,Z=new Map,z=new Map,H=function(e){(W.get(e)||[]).forEach((function(e){var t=Z.get(e);t&&(t.__deleted(t),t.__hooks.forEach((function(e){return z.delete(e)}))),W.delete(e),Z.delete(e)}))},G=function(e,t){Z.set(e,t),function(e,t){Z.forEach((function(n,r){var o=Z.get(r);o&&o.contains(e)&&W.set(r,[].concat(W.get(r)||[],[t]))}))}(t,e)};exports.app=function(e){var t,n=e.router&&q(e),r=n&&n.view||e.view,o=new DocumentFragment,i=document.createElement("div"),u=document.getElementById(e.id||"app");(null==u?void 0:u.hasAttribute("data-skip"))||(o.appendChild(i),x(o.querySelector("div"),r()),null==u||null===(t=u.parentNode)||void 0===t||t.replaceChild(i,u))},exports.attrIDom=d,exports.attributesIDom=p,exports.component=function(e){function t(t,n){return function(e){var t,n=e.hooks,r=e.newProps,o=e.key,i=e.onCreate,u=e.onDelete,a=e.render,c=function(){},f=new Set,s=c,l=c,p={},d=function(e){var r=0,c=a({created:function(e){return s=e||s},deleted:function(e){return l=e||l},execute:function(e,t){return function(e){return function(t,r){var o=!r,i=n.get(e),u=!i||!r.every((function(e,t){return JSON.stringify(e)===JSON.stringify(i[t])}));(o||u)&&J((function(){n.set(e,r),f.add(e),t()}))}}("execute-"+o+"-"+r++)(e,t)},key:o,props:p=e||{},update:function(e){return function(e){return function(r){var o=e;return n.has(e)||(n.set(e,r),f.add(e)),[n.get(e),function(e){J((function(){n.set(o,e),x(t,d(p))}))}]}}("update-"+o+"-"+r++)(e)}});return null===c?function(){return null}:function(){return t=c({key:o,elementAttached:function(){var e=t;e.__hooks=f,e.__deleted=l,p.view&&(e.dataset.view=p.view),s(t),i(o,t)},elementDetached:function(){u(o,t)}})}};return d(r)}({hooks:z,key:n&&n.key?n.key+t:t,newProps:n||{},onCreate:G,onDelete:H,render:e})}return function(){return t.bind(null,"__"+R+++"__")}},exports.elementCloseIDom=v,exports.elementOpenEndIDom=h,exports.elementOpenStartIDom=m,exports.h=function(e,t,n){var r=t||{},o=arguments,i=Object.keys(r),u=i.length;function a(t){var a;void 0===t&&(t={skip:!1});var c=r.elementAttached||t.elementAttached,f=r.elementDetached||t.elementDetached,s=r.skip||t.skip||null;return m(e,r.key||t.key||null),S({attributes:r,names:i,length:u}),h(),s?(k(),a=v(e)):(Array.isArray(n)?n.forEach(j):P(o,j),(a=v(e)||{})._elementAttached=c,a._elementDetached=f,"undefined"!=typeof window&&C({attributes:r,names:i,length:u,element:a}),"function"==typeof r.ref&&r.ref(a)),a}return a},exports.notificationsIDom=g,exports.patch=x,exports.redirect=function(e){var t=N.document.createElement("a");t.setAttribute("href",e),L(t)},exports.renderToStringIDom=w,exports.router=q,exports.skipIDom=k,exports.skipNodeIDom=b,exports.textIDom=y,exports.to=function(e){var t=e.target;e.preventDefault(),L(t)};
//# sourceMappingURL=h-h.cjs.production.min.js.map
