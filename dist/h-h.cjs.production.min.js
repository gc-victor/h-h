"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){if(void 0!==e)return e;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object")}();function t(){return function(t){return e.queueMicrotask(t)}}"function"!=typeof e.queueMicrotask&&(e.queueMicrotask=function(t){if(!e.Promise)return"undefined"!=typeof process?process.nextTick(t):setTimeout(t);Promise.resolve().then(t).catch((function(e){return setTimeout((function(){throw e}))}))});var n=t(),r=function(e){},o=IncrementalDOM,i=o.attributes,u=o.notifications,a=o.patchOuter,c=o.renderToString,s=o.skip,f=o.skipNode,l=(void 0===i?{}:i)||{},d=o.attr,p=o.elementClose,v=o.elementOpenEnd,m=o.elementOpenStart,h=void 0===u?{nodesCreated:r,nodesDeleted:r}:u,g=void 0===c?r:c,w=o.text,y=void 0===s?r:s,k=void 0===f?r:f,b=function(e,t){return n((function(){return a(e,t)}))};l.value=function(e,t,n){return e.value=null==n?"":n},h.nodesDeleted=function(e){return e.forEach((function(e){return e&&e._elementDetached&&n(e._elementDetached)}))},h.nodesCreated=function(e){return e.forEach((function(e){return e&&e._elementAttached&&n(e._elementAttached)}))};var x=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;function _(e){return/^on/.test(e)}function D(e){return/^skip$/.test(e)}function E(e){return/^ref$/.test(e)}function I(e){for(var t=e.attributes,n=e.names,r=e.length,o=0;o<r;o++){var i=n[o];if(i&&!_(i)&&!D(i)&&!E(i)){var u="className"===i?"class":"",a="htmlFor"===i?"for":"",c=x.test(i)&&i.replace(/[A-Z0-9]/,"-$&").toLowerCase();d(a||u||c||i,t[i])}}}function A(e){for(var t=e.attributes,n=e.names,r=e.length,o=e.element,i=0;i<r;i++){var u=n[i];if(u&&_(u)){var a=u.toLowerCase().substring(2);o._listeners=o._listeners||{},o._listeners[a]||o.addEventListener(a,S,!1),o._listeners[a]=t[u]}}}function S(e){return e.currentTarget._listeners[e.type](e)}function C(e,t){if(e.length>2)for(var n=2;n<e.length;n++)t(e[n])}function O(e){var t="string"==typeof e?w(e):"";return"function"==typeof e?e():t}var M,P="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||window,T=U();function L(e){var t=T.set(e,P.location.pathname);return M=function(e){return function(t){t.addEventListener("click",(function n(r){t.removeEventListener("click",n),j({options:e,event:r})})),t.click()}}(e),function(e){P.addEventListener("popstate",(function(t){return j({options:e,event:t})}))}(e),q({match:t,path:N(P.location),isPopState:!1}),{view:t.view||e.view}}function j(e){var t=e.options,n=e.event,r=n.currentTarget,o=T.set(t,P.location.pathname);n.preventDefault(),q({match:o,path:N(r)||N(P.location),isPopState:"popstate"===n.type}),b(document.getElementById(t.routerId||t.id||"app"),o.view())}function N(e){return e.pathname+(e.search||e.hash)}function q(e){var t,n=e.path,r=e.isPopState,o=(t=e.match).title(t.params)||P.document.title;r||P.history.pushState({},o,n),P.document.title=o}function $(e,t){for(var n,r=/:([^/]+)/,o=[];n=t.match(r);)t=t.replace(r,"([^?/]+)"),o.push(n[1]);var i=new RegExp("^"+t+"(\\?(.*)|$)","i"),u=e.match(i);if(u)return o.reduce((function(e,t,n){return e[t]=u[n+1],e}),{})}function U(){var e=new Map,t=function(){};return{set:function(n,r){if(!e.has(r)){for(var o,i="",u=n.router,a=Object.keys(u),c=a.length,s=0;s<c&&(i=a[s],!(o=$(r,a[s])));s+=1);var f=u[i];e.set(r,{params:o,title:f.title||t,view:f.view||t})}return e.get(r)}}}var B=t(),F=1,J=new Map,R=new Map,Z=new Map,z=function(e){(J.get(e)||[]).forEach((function(e){var t=R.get(e);t&&(t.__deleted(t),t.__hooks.forEach((function(e){return Z.delete(e)}))),J.delete(e),R.delete(e)}))},H=function(e,t){R.set(e,t),function(e,t){R.forEach((function(n,r){var o=R.get(r);o&&o.contains(e)&&J.set(r,[].concat(J.get(r)||[],[t]))}))}(t,e)};exports.app=function(e){var t,n=e.router&&L(e),r=n&&n.view||e.view,o=new DocumentFragment,i=document.createElement("div"),u=document.getElementById(e.id||"app");(null==u?void 0:u.hasAttribute("data-skip"))||(o.appendChild(i),b(o.querySelector("div"),r()),null==u||null===(t=u.parentNode)||void 0===t||t.replaceChild(i,u))},exports.attrIDom=d,exports.attributesIDom=l,exports.component=function(e){function t(t,n){return function(e){var t,n=e.hooks,r=e.newProps,o=e.key,i=e.onCreate,u=e.onDelete,a=e.render,c=function(){},s=new Set,f=c,l=c,d={},p=function(e){var r=0,c=a({created:function(e){return f=e||f},deleted:function(e){return l=e||l},execute:function(e,t){return function(e){return function(t,r){var o=!r,i=n.get(e),u=!i||!r.every((function(e,t){return JSON.stringify(e)===JSON.stringify(i[t])}));(o||u)&&B((function(){n.set(e,r),s.add(e),t()}))}}("execute-"+o+"-"+r++)(e,t)},key:o,props:d=e||{},update:function(e){return function(e){return function(r){var o=e;return n.has(e)||(n.set(e,r),s.add(e)),[n.get(e),function(e){B((function(){n.set(o,e),t&&b(t,p(d))}))}]}}("update-"+o+"-"+r++)(e)}});return null===c?function(){return null}:function(){return t=c({key:o,elementAttached:function(){var e=t;e.__hooks=s,e.__deleted=l,d.view&&(e.dataset.view=d.view),f(t),i(o,t)},elementDetached:function(){u(o,t)}})}};return p(r)}({hooks:Z,key:n&&n.key?n.key+t:t,newProps:n||{},onCreate:H,onDelete:z,render:e})}return function(){return t.bind(null,"__"+F+++"__")}},exports.elementCloseIDom=p,exports.elementOpenEndIDom=v,exports.elementOpenStartIDom=m,exports.h=function(e,t,n){var r=t||{},o=arguments,i=Object.keys(r),u=i.length;function a(t){var a;void 0===t&&(t={skip:!1});var c=r.elementAttached||t.elementAttached,s=r.elementDetached||t.elementDetached,f=r.skip||t.skip||null;return m(e,r.key||t.key||null),I({attributes:r,names:i,length:u}),v(),f?(y(),a=p(e)):(Array.isArray(n)?n.forEach(O):C(o,O),(a=p(e)||{})._elementAttached=c,a._elementDetached=s,"undefined"!=typeof window&&A({attributes:r,names:i,length:u,element:a}),"function"==typeof r.ref&&r.ref(a)),a}return a},exports.notificationsIDom=h,exports.patch=b,exports.redirect=function(e){var t=P.document.createElement("a");t.setAttribute("href",e),M(t)},exports.renderToStringIDom=g,exports.router=L,exports.skipIDom=y,exports.skipNodeIDom=k,exports.textIDom=w,exports.to=function(e){var t=e.currentTarget;e.preventDefault(),M(t)};
//# sourceMappingURL=h-h.cjs.production.min.js.map
