var l=Object.defineProperty;var v=t=>l(t,"__esModule",{value:!0});var g=(t,e)=>{v(t);for(var c in e)l(t,c,{get:e[c],enumerable:!0})};g(exports,{redirect:()=>E,router:()=>y,to:()=>k});var u=(t,e)=>{t.parentNode.replaceChild(e,t)};var m,h=M(),E=t=>{let e=document.createElement("a");e.setAttribute("href",t),m(e)},k=t=>{t.preventDefault(),m(t.currentTarget)},x=t=>e=>{let c=n=>{e.removeEventListener("click",c),f({options:t,event:n})};e.addEventListener("click",c),e.click()};function y(t){let e=h.set(t,document.location.pathname);return m=x(t),b(t),w({match:e,path:d(document.location),isPopState:!1}),u(document.getElementById(e.id||t.id||"app"),e.view(e.params)),{view:e.view||t.view}}function b(t){document.addEventListener("popstate",e=>f({options:t,event:e}))}function f({options:t={},event:e}){let c=e.currentTarget,n=h.set(t,c.attributes.href.value);e.preventDefault(),w({match:n,path:d(c)||d(document.location),isPopState:e.type==="popstate"}),u(document.getElementById(n.id||t.id||"app"),n.view(n.params))}function d(t){return t.pathname+(t.search||t.hash)}function w({match:t,path:e,isPopState:c}){let n=t.title(t.params)||document.title;c||window.history.pushState({},n,e),document.title=n}function M(){let t=new Map,e=()=>{};return{set(c,n){if(!t.has(n)){let o="",s,a=Object.keys(c),p=a.length;for(let r=0;r<p&&(o=a[r],s=P(n,a[r]),!s);r=r+1);let i=c[o];t.set(n,{...i,params:s,title:i.title||e,view:i.view||e})}return t.get(n)}}}function P(t,e){let c,n=/:([^/]+)/,o=[];for(;c=e.match(n);)e=e.replace(n,"([^?/]+)"),o.push(c[1]);let s=new RegExp(`^${e}(\\?(.*)|$)`,"i"),a=t.match(s);if(a)return o.reduce((p,i,r)=>(p[i]=a[r+1],p),{})}
